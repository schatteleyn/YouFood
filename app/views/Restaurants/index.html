#{extends 'main.html' /}
#{set title:'Restaurant' /}

<header class="jumbotron subhead" id="overview">
    <h1>Restaurants</h1>
</header>
#{a @create()}Add Restaurant#{/a}
</br></br>


    <table class="table table-bordered">
        <thead>
            <tr>
                <th>City</th>
                <th>Address</th>
                <th>Country</th>
            </tr>
        </thead>
        <tbody>
            #{if !restaurants.isEmpty() }
                #{list restaurants, as:'restaurant'}
                    <tr>
                        <td>#{a @show(restaurant.id)}${restaurant.city}#{/a}</td>
                        <td>${restaurant.address}</td>
                        <td>${restaurant.country}</td>
                    </tr>
                #{/list}
            #{/if}
            #{else}
                <tr>
                    <td colspan="3">No restaurants created</td>
                </tr>
            #{/else}
        </tbody>
    </table> 

</br>

<div class="page-header">
    <h1>Current Menu</h1>
</div>
#{if !menus.isEmpty()}
    #{form @saveEditMenu()}
        #{field 'menu_id'}
            <p>
                <select name="menu_id">
                    #{list menus, as:'menu'}
                        #{if menu.currentMenu == true}
                            <option selected="selected" value=${menu.id}>
                                ${menu.name}
                            </option>
                        #{/if}
                        #{else}
                            <option value=${menu.id}>
                                ${menu.name}
                            </option>
                        #{/else}
                    #{/list}
                </select>
                <input type="submit" value="Change" id="postCurrentMenu" />
            </p> 
        #{/field}
    #{/form}
#{/if}
#{else}
    No menu create : #{a @Menus.index()}Menus list#{/a}
#{/else}