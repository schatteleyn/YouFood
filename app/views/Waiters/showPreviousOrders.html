#{extends 'Waiters/mainWaiter.html' /}
#{set title:'Restaurant' /}
<div data-role="navbar">
    <ul>
        <li><a href="@{Waiters.showStatusTables(restaurant.id)}">Status Tables</a></li>
        <li><a href="@{Waiters.showOrders(restaurant.id)}">Current Order</a></li>
        <li><a href="@{Waiters.showPreviousOrders(restaurant.id)}" class="ui-btn-active">Previous Order Day</a></li>
    </ul>
</div><!-- /navbar -->
<div class="span12">
    <header class="page-header">
        <h1>Previous Orders Day: ${restaurant.city}</h1>
    </header>
    #{if !orders.isEmpty()}
        #{list orders, as:'order'}
            <div class="span5">
                <ul data-role="listview" data-inset="true" data-theme="d">
                    <li data-role="list-divider">Table #${order.table.id}</li>
                    <li data-icon="gear">
                        <a href="">
                            <h3>Time :  ${order.date}</h3>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    #{list order.listItems, as:'item'}
                                        <tr>
                                            <th>${item.name}</th>
                                            <th>${item.price}</th>
                                        <tr>
                                    #{/list}
                                </tbody>
                            </table>
                            <h3>Subtotal : ${order.totalPrice} $</h3>
                        </a>
                    </li>
                </ul>
            </div>
        #{/list}
    #{/if}
    #{else}
        <div class="span12">
            No Orders
        </div>
    #{/else}
</div>
