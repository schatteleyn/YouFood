#{extends 'Clients/mainClient.html' /}
#{set title:'YouFood - Clients' /}

<div class="span12">
    <div data-role="controlgroup" data-type="horizontal">
        <a href="@{Clients.menu(restaurant.id,table.id)}" data-role="button" data-icon="back">BACK</a>
        #{if card != null}
            <a href="@{Cards.clear(restaurant.id,table.id,card.id)}" data-role="button" data-icon="delete" data-theme="a">CLEAR CARD</a>
        #{/if}
    </div>
</div>

<div class="span6">
    <header class="page-header">
        <h1>Menu/${category.name}</h1>
    </header>
    <ul data-role="listview" data-inset="true">
        <li data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-corner-top">Select your category and pick which item you want</li>
        #{list listItemsMenuCategory, as:'item'}
            <li data-icon="plus">
                <a href="@{Cards.createItem(restaurant.id,table.id,item.id)}" data-transition="slideup">
                    <h1>${item.name}</h1>
                    <p>${item.description}</p>
                    <p class="ui-li-aside">${item.price} $</p>
                </a>
            </li>
        #{/list}
    </ul>
</div>

<div class="span4">
    <header class="page-header">
        <h1>Card</h1>
    </header>  
    <ul data-role="listview" data-inset="true" data-theme="d">
        <li data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-corner-top">List items</li>
            #{if card != null}
                #{list card.listItems, as:'item'}
                    <li data-icon="minus">
                        <a href="@{Cards.deleteItem(restaurant.id,table.id,item.id)}">
                            <h3>${item.name} - ${item.price} $ </h3>
                        </a>
                    </li>
                #{/list}
            #{/if}
            #{else}
                <li>
                    No Items
                </li>
            #{/else}

    </ul>
    <br/>
    <h3>Subtotal : #{if card != null}${card.totalPrice} $#{/if}#{else}0 $#{/else}</h3><br/>
    #{if card != null}
        <a href="@{card(restaurant.id,table.id)}" data-role="button" data-iconpos="top" data-icon="check" data-theme="e">COMPLETE</a>
    #{/if}
</div>