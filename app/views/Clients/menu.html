#{extends 'Clients/mainClient.html' /}
#{set title:'YouFood - Clients' /}

<a href="@{Clients.index(restaurant.id,table.id)}" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
<div class="span6">
    <header class="page-header">
        <h1>Menu</h1>
    </header>
    <ul data-role="listview" data-inset="true" data-theme="d">
        <li data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-corner-top">Select your category and pick which item you want</li>
        #{list categories, as:'category'}
            <li>#{a @items(restaurant.id, table.id, category.id)}${category.name}#{/a}</li>
        #{/list}
    </ul>
</div>

<div class="span4">
    <header class="page-header">
        <h1>Card</h1>
    </header>  
    <ul data-role="listview" data-inset="true">
        <li data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-corner-top">List items</li>
            #{if card != null}
                #{list card.listItems, as:'item'}
                    <li data-icon="minus">
                        <a href="@{Cards.deleteItem(table.id, item.id)}">
                            <h2>${item.name}</h2>
                            <p class="ui-li-aside">${item.price} $</p>
                        </a>
                    </li>
                #{/list}
            #{/if}
            #{else}
                <li>
                    No Items
                </li>
            #{/else}
    </ul>
    <br/>
    <h3>Subtotal : #{if card != null}${card.totalPrice} $#{/if}#{else}0 $#{/else}</h3><br/>
    #{if card != null}
        <a href="@{card(restaurant.id,table.id)}" data-role="button" data-iconpos="top" data-icon="check" data-theme="e">CHECKOUT & ORDER</a>
    #{/if}
</div>


